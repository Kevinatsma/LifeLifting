<mat-card class="dropzone upload-image-card form-card" 
  appDropZone
  (hovered)="toggleHover($event)"
  (dropped)="startUpload($event)"
  [class.hovering]="isHovering"
  *ngIf="!downloadURL"
>
  <i class="fa__icon far fa-image"></i>
  <h3 class="photo-header"> Upload your image! (in .webp format)</h3>
  <a href="https://docs.google.com/document/d/11XCR8AI9tCQUwV2IJBlbUkrPkKPebZxYKE07X6jF8XA/edit"
  target="_blank" class="text-link">
    {{ 'file_upload.check_guide' | translate }}
    <i class="fa__icon fas fa-external-link-alt"></i>
  </a>
  <h5>{{ 'file_upload.subtitle' | translate }}</h5>

  <div class="file">
    <label class="file-label">
      <input type="file" (change)="startUpload($event.target.files)">

      <div class="file-cta">
        <span class="file-icon">
          <i class="fa__icon fas fa-upload"></i>
        </span>
        <span class="file-label text-link" *ngIf="!downloadURL">
          {{ 'file_upload.or_choose_one' | translate }}
        </span>
        <span class="file-label text-link" *ngIf="downloadURL">
          {{ 'file_upload.choose_another' | translate }}
        </span>
      </div>
    </label>
  </div>

  <ng-container *ngIf="percentage | async as pct">
    <div class="percentage-wrapper" *ngIf="pct !== 100">
      <mat-progress-bar [value]="pct" max="100" mode="determinate"></mat-progress-bar>
    </div>
  </ng-container>
</mat-card>

<div class="profile-pic" *ngIf="downloadURL">
  <section class="preview" *ngIf="imageURL" [style.background]="'url(' + imageURL + ')'">
  </section>
  <p class="card-text" *ngIf="!imageURL">
    {{ 'file_upload.errors.cant_load_image' | translate }}
  </p>
  <section class="confirmation">
    <h2>{{ 'global.questions.is_this_ok' | translate }}</h2>
    <p class="card-text">
      {{ 'file_upload.result_desc' | translate }}
    </p>
    <div class="file">
      <label class="file-label">
        <input type="file" (change)="startUpload($event.target.files)">
  
        <span class="bottom-btn">
          <span class="file-label text-link" *ngIf="downloadURL">
            {{ 'file_upload.change_photo' | translate }}
          </span>
          <span class="file-icon">
            <i class="fa__icon fas fa-exchange-alt"></i>
          </span>
        </span>
      </label>
    </div>
  </section>
</div>
